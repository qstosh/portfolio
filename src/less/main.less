@import 'normalize.less';
@import 'reset.less';
@import 'utilities.less';
@import 'variables.less';

html {

  font-size: @font-size-base;
  color: @color-primary;
}

p {

  font-size: 1rem;
  line-height: @baseline;
  margin-bottom: @baseline;
}

h1 {

  font-size: 2rem;
  line-height: 2 * @baseline;
  margin-bottom: @baseline;
  padding-top: 3px;
}

h2 {

  font-size: 1.66rem;
  line-height: 2 * @baseline;
  margin-bottom: @baseline;
  padding-top: 3px;
}

h3 {

  font-size: 1.33rem;
  line-height: 2 * @baseline;
  margin-bottom: @baseline;
  padding-top: 3px;
}

body {

  display: flex;
  flex: 1;
  transform: translateX(0);
  background: black;
}

.Main,
.Nav {

  display: flex;
  will-change: transform;
  transition: transform .15s cubic-bezier(0.05, 0.95, 0.62, 0.86) .11s;
}

.Main {

  flex: 1;
  justify-content: center;
  transform: translateX(0);
  background: white;

  &:after {

    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: white;
    opacity: 0;
    pointer-events: none;
    will-change: opacity;
    transition: opacity .2s ease .3s;
  }

  &--nav-mode-on {

    transform: translateX(-@baseline);

    .Main__wrapper {

      // filter: blur(5px);
    }

    &:after {

      opacity: 0.66;
    }
  }

  &__wrapper {

    overflow-y: scroll;
    height: calc(~"100vh - 44px");
    max-width: 100vw / 1.618;
    padding: 0 @baseline;
    margin: @baseline 0;
    word-break: break-word;
  }
}

.Nav {

  flex: 0 10rem;
  height: 100%;

  flex-flow: column nowrap;
  justify-content: center;

  color: white;
  background: black;

  transform: translateX(0);

  .test {

    // height: 100px;
    background: red;
    // align-self: flex-start;
  }

  &__item {

    display: flex;
    height: 20px;
    // border-top: 1px solid red;
    // border-bottom: 1px solid red;
    flex-flow: column nowrap;
    justify-content: center;
    font-family: "Baskerville";
    font-style: italic;
    letter-spacing: 1px;
    font-size: 1.3rem;
    cursor: pointer;
    overflow: hidden;

    will-change: height;
    transition: height .15s ease .4s;

    &:not(:first-child) {

      border-top: 1px solid rgba(255, 255, 255, 0.1);
      margin-top: 5px;
    }

    &,
    > span {

      background: rgba(255, 255, 255, 0.1);
    }

    > span {

      position: relative;
      display: table;
      // height: 10px;
      transform-origin: left center;
      padding: 5px 15px;


      &:before {

        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        top: 50%;

        background: white;
        opacity: 1;

        will-change: transform opacity;
        transform-origin: center bottom;
        transform: translate(0, -50%) scale(1, .5);
        transition: transform .2s ease .4s, opacity .2s ease .4s;
        z-index: -1;
      }

      &:after {

        content: attr(title);
        color: black;
        opacity: 0;
        will-change: opacity;
        transition: opacity .15s ease .4s;
      }
    }

    &:hover {

      > span {

        transform: scale(1);
      }
    }
  }

  &--nav-mode-on {

    transform: translateX(-@baseline);

    &__item {

      height: 40px;

      > span {

        &:before {

          transform: translate(0, -50%) scale(1, 1);
        }

        &:after {

          opacity: 1;
        }
      }
    }
  }
}

.Body {

  ::-webkit-scrollbar {

    width: @baseline / 3;
    height: @baseline / 3;
  }

  ::-webkit-scrollbar-thumb {

      background: rgba(0, 0, 0, 0.03);
  }

  ::-webkit-scrollbar-thumb:window-inactive {

    background: rgba(0, 0, 0, 0.01);
  }

  &--nav-mode-on {

    ::-webkit-scrollbar-thumb {

        background: none;
    }

    ::-webkit-scrollbar-thumb:window-inactive {

      background: none;
    }
  }
}